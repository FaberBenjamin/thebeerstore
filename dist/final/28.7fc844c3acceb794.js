"use strict";(self.webpackChunkFinal=self.webpackChunkFinal||[]).push([[28],{28:(S,m,a)=>{a.r(m),a.d(m,{AdminModule:()=>I});var u=a(6895),g=a(9965),n=a(433),t=a(8256),h=a(2690),C=a(1261);const f={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s;const b=new Uint8Array(16);function v(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(b)}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));const x=function Z(e,r,o){if(f.randomUUID&&!r&&!e)return f.randomUUID();const i=(e=e||{}).random||(e.rng||v)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){o=o||0;for(let c=0;c<16;++c)r[o+c]=i[c];return r}return function _(e,r=0){return(d[e[r+0]]+d[e[r+1]]+d[e[r+2]]+d[e[r+3]]+"-"+d[e[r+4]]+d[e[r+5]]+"-"+d[e[r+6]]+d[e[r+7]]+"-"+d[e[r+8]]+d[e[r+9]]+"-"+d[e[r+10]]+d[e[r+11]]+d[e[r+12]]+d[e[r+13]]+d[e[r+14]]+d[e[r+15]]).toLowerCase()}(i)};var y=a(529);let T=(()=>{class e{constructor(o){this.httpClient=o,this.backendURL=C.U.backendURL}onModifyServer(o){return console.log(o),void 0!==o.isNovelty&&(o.isNovelty=!1),this.httpClient.put(`${this.backendURL}/items/${o.id}`,o)}onAddProduct(o){let i={...o,id:x()};return this.httpClient.post(`${this.backendURL}/items`,i)}onDeleteProduct(o){return this.httpClient.delete(`${this.backendURL}/items/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=a(1790);function A(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"h1"),t._uU(3,"Delete product?"),t.qZA(),t.TgZ(4,"div",12)(5,"button",13),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.deleteProductToogle=!1)}),t._uU(6,"No"),t.qZA(),t.TgZ(7,"button",14),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.deleteProduct())}),t._uU(8,"Yes"),t.qZA()()()()}}function P(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr",15)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"slice"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",12)(17,"button",16),t.NdJ("click",function(){const l=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.onModify(l.id))}),t._uU(18,"Modify"),t.qZA(),t.TgZ(19,"button",17),t.NdJ("click",function(){const l=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.onDeleteActivator(l.id))}),t._uU(20,"Delete"),t.qZA()()()}if(2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.price),t.xp6(2),t.hij("",t.Dn7(7,7,o.description,0,15),"..."),t.xp6(3),t.Oqu(o.mainCategory),t.xp6(2),t.Oqu(o.subCategory),t.xp6(2),t.Oqu(o.originCountry),t.xp6(2),t.Oqu(o.onStock)}}function U(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",18)(1,"form",19),t.NdJ("ngSubmit",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.onModifyProduct())}),t.TgZ(2,"div",20),t._UZ(3,"img",21),t.TgZ(4,"div")(5,"label",22),t._uU(6,"url: "),t.qZA(),t._UZ(7,"input",23),t.qZA()(),t.TgZ(8,"div",24)(9,"label",25),t._uU(10),t.qZA(),t._UZ(11,"input",26),t.qZA(),t.TgZ(12,"div",24)(13,"label",27),t._uU(14),t.qZA(),t._UZ(15,"input",28),t.qZA(),t.TgZ(16,"div",29)(17,"label",30),t._uU(18),t.qZA(),t._UZ(19,"textarea",31),t.qZA(),t.TgZ(20,"div",24)(21,"label",32),t._uU(22),t.qZA(),t._UZ(23,"input",33),t.qZA(),t.TgZ(24,"div",24)(25,"label",34),t._uU(26),t.qZA(),t._UZ(27,"input",35),t.qZA(),t.TgZ(28,"div",24)(29,"label",36),t._uU(30),t.qZA(),t._UZ(31,"input",37),t.qZA(),t.TgZ(32,"div",24)(33,"label",38),t._uU(34),t.qZA(),t.TgZ(35,"select",39)(36,"option",40),t._uU(37,"True"),t.qZA(),t.TgZ(38,"option",41),t._uU(39,"False"),t.qZA()()(),t.TgZ(40,"div",24)(41,"label",42),t._uU(42,"Would you like to present a discounted label?"),t.qZA(),t.TgZ(43,"select",43)(44,"option",40),t._uU(45,"True"),t.qZA(),t.TgZ(46,"option",41),t._uU(47,"False"),t.qZA()()(),t.TgZ(48,"button",44),t._uU(49,"Save"),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.modificationForm),t.xp6(2),t.s9C("src",o.productToModify.url,t.LSH),t.xp6(4),t.s9C("placeholder",o.productToModify.url),t.xp6(3),t.hij("Name: ",o.productToModify.title,""),t.xp6(1),t.s9C("placeholder",o.productToModify.title),t.xp6(3),t.hij("Cost: ",o.productToModify.price,""),t.xp6(1),t.s9C("placeholder",o.productToModify.price),t.xp6(3),t.hij("Description: ",o.productToModify.description,""),t.xp6(1),t.s9C("placeholder",o.productToModify.description),t.xp6(3),t.hij("MainCategory: ",o.productToModify.mainCategory,""),t.xp6(1),t.s9C("placeholder",o.productToModify.mainCategory),t.xp6(3),t.hij("SubCategory: ",o.productToModify.subCategory,""),t.xp6(1),t.s9C("placeholder",o.productToModify.subCategory),t.xp6(3),t.hij("From: ",o.productToModify.originCountry,""),t.xp6(1),t.s9C("placeholder",o.productToModify.originCountry),t.xp6(3),t.hij("Stock: ",o.productToModify.onStock,"")}}function w(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",18)(1,"form",19),t.NdJ("ngSubmit",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.onAddProduct())}),t.TgZ(2,"label",45),t._uU(3,"Title"),t.qZA(),t._UZ(4,"input",46),t.TgZ(5,"label",47),t._uU(6,"Price"),t.qZA(),t._UZ(7,"input",48),t.TgZ(8,"label",49),t._uU(9,"Description"),t.qZA(),t._UZ(10,"textarea",50),t.TgZ(11,"label",51),t._uU(12,"Maincategory"),t.qZA(),t._UZ(13,"input",52),t.TgZ(14,"label",53),t._uU(15,"Subcategory"),t.qZA(),t._UZ(16,"input",54),t.TgZ(17,"label",55),t._uU(18,"Origin country"),t.qZA(),t._UZ(19,"input",56),t.TgZ(20,"label",57),t._uU(21,"Url for image"),t.qZA(),t._UZ(22,"input",58),t.TgZ(23,"div",59)(24,"label",60),t._uU(25,"Product is available?"),t.qZA(),t.TgZ(26,"select",61)(27,"option",40),t._uU(28,"True"),t.qZA(),t.TgZ(29,"option",41),t._uU(30,"False"),t.qZA()()(),t.TgZ(31,"div",59)(32,"label",62),t._uU(33,"Show novelty banner?"),t.qZA(),t.TgZ(34,"select",63)(35,"option",40),t._uU(36,"True"),t.qZA(),t.TgZ(37,"option",41),t._uU(38,"False"),t.qZA()()(),t.TgZ(39,"button",44),t._uU(40,"Add"),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.addProductForm)}}let O=(()=>{class e{constructor(o,i,c){this.productListService=o,this.adminService=i,this.location=c,this.productsList=[],this.filteredProducts=[],this.productModifyToogle=!1,this.addNewProductToogle=!1,this.deleteProductToogle=!1,this.searchForm=new n.cw({searchInput:new n.NI("")}),this.modificationForm=new n.cw({imgUrl:new n.NI(null),title:new n.NI(null),price:new n.NI(null),description:new n.NI(null),mainCategory:new n.NI(null),subCategory:new n.NI(null),originCountry:new n.NI(null),onStock:new n.NI(!0),isDiscounted:new n.NI(!0)}),this.addProductForm=new n.cw({title:new n.NI("",{validators:n.kI.required}),price:new n.NI(1,{validators:n.kI.required}),description:new n.NI("",{validators:n.kI.required}),maincategory:new n.NI("",{validators:n.kI.required}),subcategory:new n.NI("",{validators:n.kI.required}),origincountry:new n.NI("",{validators:n.kI.required}),url:new n.NI("",{validators:n.kI.required}),onstock:new n.NI(!0),isnovelty:new n.NI(!1)})}ngOnInit(){this.productListService.getAllProducts().subscribe(o=>{this.productsList=o,this.filteredProducts=[...this.productsList]})}onSearch(){this.filteredProducts=this.productListService.getSearchedElements([...this.productsList],this.searchForm.controls.searchInput.value)}onAddActivator(){this.addNewProductToogle=!0,this.productModifyToogle=!1}onDeleteActivator(o){this.deleteProductToogle=!0,this.itemToDeleteID=o}deleteProduct(){this.adminService.onDeleteProduct(this.itemToDeleteID).subscribe(()=>{this.location.go(this.location.path()),window.location.reload()})}onModify(o){this.productListService.getProductById(o).subscribe(i=>{this.productToModify=i}),this.addNewProductToogle=!1,this.productModifyToogle=!0}onAddProduct(){if(this.addProductForm.valid){let o={title:this.addProductForm.controls.title.value.charAt(0).toUpperCase().concat(this.addProductForm.controls.title.value.slice(1)),price:this.addProductForm.controls.price.value,description:this.addProductForm.controls.description.value.charAt(0).toUpperCase().concat(this.addProductForm.controls.description.value.slice(1)),mainCategory:this.addProductForm.controls.maincategory.value.charAt(0).toUpperCase().concat(this.addProductForm.controls.maincategory.value.slice(1)),subCategory:this.addProductForm.controls.subcategory.value.charAt(0).toUpperCase().concat(this.addProductForm.controls.subcategory.value.slice(1)),originCountry:this.addProductForm.controls.origincountry.value.charAt(0).toUpperCase().concat(this.addProductForm.controls.origincountry.value.slice(1)),url:this.addProductForm.controls.url.value,onStock:this.addProductForm.controls.onstock.value,isNovelty:this.addProductForm.controls.isnovelty.value};this.adminService.onAddProduct(o).subscribe(()=>{this.location.go(this.location.path()),window.location.reload()})}}onModifyProduct(){let o={...this.productToModify};for(let i in this.modificationForm.controls)if(this.modificationForm.controls.hasOwnProperty(i)){let c=this.modificationForm.controls[i].value,l=i;null!==c&&"string"==typeof c?(c=c.slice(0,1).toUpperCase().concat(c.slice(1)),o[l]=c):null!==c&&"string"!=typeof c&&(o[l]=c,console.log(o[l]))}this.adminService.onModifyServer(o).subscribe(()=>{this.location.go(this.location.path()),window.location.reload()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.N),t.Y36(T),t.Y36(u.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:31,vars:5,consts:[["class","delete-portal",4,"ngIf"],[1,"table-wrapper"],[1,"search-container"],[3,"formGroup"],["formControlName","searchInput","placeholder","Search for item name","type","text","id","searchInput"],["src","https://cdn-icons-png.flaticon.com/512/711/711319.png","alt","illustration_magnifier",3,"click"],[3,"click"],[1,"table-header"],["class","table-products",4,"ngFor","ngForOf"],["class","modification-container",4,"ngIf"],[1,"delete-portal"],[1,"card-container"],[1,"button-container"],[1,"button-container_no",3,"click"],[1,"button-container_yes",3,"click"],[1,"table-products"],[1,"button-container_modify-button",3,"click"],[1,"button-container_delete-button",3,"click"],[1,"modification-container"],["action","",3,"formGroup","ngSubmit"],[1,"modification-container_img-container"],["alt","choosen_product_image",3,"src"],["for","productToModifyUrl"],["formControlName","imgUrl","type","text","id","productToModifyUrl",3,"placeholder"],[1,"modification-container_input-container"],["for","productToModifyTitle"],["formControlName","title","type","text","id","productToModifyTitle",3,"placeholder"],["for","productToModifyPrice"],["formControlName","price","type","text","id","productToModifyPrice",3,"placeholder"],[1,"modification-container_input-container","description-input"],["for","productToModifyDescription"],["formControlName","description","id","productToModifyDescription","rows","5","cols","40",3,"placeholder"],["for","productToModifyMainCategory"],["formControlName","mainCategory","type","text","id","productToModifyMainCategory",3,"placeholder"],["for","productToModifySubCategory"],["formControlName","subCategory","type","text","id","productToModifySubCategory",3,"placeholder"],["for","productToModifyOriginCountry"],["formControlName","originCountry","type","text","id","productToModifyOriginCountry",3,"placeholder"],["for","productToModifyAvailability"],["formControlName","onStock","id","productToModifyAvailability"],["value","true"],["value","false"],["for","discount"],["formControlName","isDiscounted","id","discount"],["type","submit"],["for","newTitle"],["formControlName","title","type","text","id","newTitle"],["for","newPrice"],["formControlName","price","type","number","id","newPrice","min","1"],["for","newDescription"],["formControlName","description","id","newDescription","cols","30","rows","10"],["for","newMaincategory"],["formControlName","maincategory","type","text","id","newMaincategory"],["for","newSubcategory"],["formControlName","subcategory","type","text","id","newSubcategory"],["for","newOriginCountry"],["formControlName","origincountry","type","text","id","newOriginCountry"],["for","newUrl"],["formControlName","url","type","text","id","newUrl"],[1,"modification-container_select-container"],["for","available"],["formControlName","onstock","id","available"],["for","novelty"],["formControlName","isnovelty","id","novelty"]],template:function(o,i){1&o&&(t._UZ(0,"app-loader"),t.YNc(1,A,9,0,"div",0),t.TgZ(2,"div",1)(3,"div",2)(4,"form",3),t._UZ(5,"input",4),t.TgZ(6,"img",5),t.NdJ("click",function(){return i.onSearch()}),t.qZA()(),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.onAddActivator()}),t._uU(8,"New product"),t.qZA()(),t.TgZ(9,"table")(10,"tr",7)(11,"td"),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"td"),t._uU(14,"Cost"),t.qZA(),t.TgZ(15,"td"),t._uU(16,"Description"),t.qZA(),t.TgZ(17,"td"),t._uU(18,"Category (main)"),t.qZA(),t.TgZ(19,"td"),t._uU(20,"Category (sub)"),t.qZA(),t.TgZ(21,"td"),t._uU(22,"OriginCountry"),t.qZA(),t.TgZ(23,"td"),t._uU(24,"Stock"),t.qZA(),t.TgZ(25,"td"),t._uU(26,"Options"),t.qZA()(),t.YNc(27,P,21,11,"tr",8),t.qZA(),t.TgZ(28,"div"),t.YNc(29,U,50,16,"div",9),t.qZA(),t.YNc(30,w,41,1,"div",9),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.deleteProductToogle),t.xp6(3),t.Q6J("formGroup",i.searchForm),t.xp6(23),t.Q6J("ngForOf",i.filteredProducts),t.xp6(2),t.Q6J("ngIf",i.productModifyToogle),t.xp6(1),t.Q6J("ngIf",i.addNewProductToogle))},dependencies:[u.sg,u.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.qQ,n.sg,n.u,M.R,u.OU],styles:[".delete-portal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#cfcfcfab;width:100vw;min-height:100vh;display:flex;z-index:1000}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{background-color:#fff;width:auto;max-width:90vw;margin:auto;text-align:center;border-radius:10px;padding:2rem}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1px}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .button-container_yes[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #47da47;background-color:#8ef68e;color:#000;font-size:16px;padding:.5rem 1rem;font-weight:700}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .button-container_yes[_ngcontent-%COMP%]:hover{background-color:#47da47;color:#fff;transition:.2s;cursor:pointer}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .button-container_no[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #f96f6f;background-color:#ffa3a3;color:#000;font-size:16px;padding:.5rem 1rem;font-weight:700}.delete-portal[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .button-container_no[_ngcontent-%COMP%]:hover{background-color:#f96f6f;color:#fff;transition:.2s;cursor:pointer}.table-wrapper[_ngcontent-%COMP%]{width:max-content;margin:auto}table[_ngcontent-%COMP%]{overflow-x:scroll;max-width:100vw;border-collapse:collapse;border-spacing:0px;max-height:200px;overflow-y:scroll;display:block}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.2rem 2rem;border-bottom:1px solid #ededed}.search-container[_ngcontent-%COMP%]{margin:2rem;display:flex;justify-content:space-between}.search-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:1rem}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid black;border-radius:10px;padding:.5rem;font-size:16px;width:12rem}.search-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.search-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #47da47;background-color:#8ef68e;color:#000;font-size:14px;padding:.2rem}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#47da47;cursor:pointer}.table-header[_ngcontent-%COMP%]{background-color:#7575d9;font-size:18px;font-weight:700;color:#fff}.button-container[_ngcontent-%COMP%]{display:flex;gap:10px}.button-container_modify-button[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #fefe81;background-color:#ffa;color:#000;font-size:14px;padding:.2rem}.button-container_modify-button[_ngcontent-%COMP%]:hover{background-color:#fefe81;cursor:pointer}.button-container_delete-button[_ngcontent-%COMP%]{border-radius:5px;border:2px solid #f96f6f;background-color:#ffa3a3;color:#000;font-size:14px;padding:.2rem}.button-container_delete-button[_ngcontent-%COMP%]:hover{background-color:#f96f6f;cursor:pointer}.modification-container[_ngcontent-%COMP%]{margin:2rem auto;padding:2rem;border-right:2px solid #cfcfcf;border-bottom:2px solid #cfcfcf;border-bottom-right-radius:15px;max-width:40vw;background-color:#fff;filter:drop-shadow(10px 5px 2px #afaeae)}.modification-container_img-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.modification-container_img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.modification-container_select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modification-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.modification-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50px;margin:2rem auto auto;border-radius:5px;border:2px solid #47da47;background-color:#8ef68e;color:#000;font-size:14px;padding:.2rem}.modification-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#47da47;cursor:pointer}.modification-container_input-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #ededed}@media only screen and (max-width: 1000px){.description-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem 0}.search-container[_ngcontent-%COMP%]{margin:2rem 0;display:flex;flex-direction:column;align-items:center;gap:1rem;width:100vw}.modification-container[_ngcontent-%COMP%]{max-width:90vw;padding:0 0 1rem}}"]}),e})();var N=a(1574);const q=[{path:"",component:O,canActivate:[(()=>{class e{constructor(o){this.authService=o}canActivate(o,i){return!0===this.authService.checkAdmin()}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(N.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}];let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(q),g.Bz]}),e})();var F=a(9727);let I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,k,n.u5,n.UX,y.JF,F.q]}),e})()}}]);